---
layout: homepage
---

<div class="home top-row wrapper">
  <div class="home-left-col inverse">
    <h1>
      <img src="images/interface/homepage-logo.png" alt="Backlist" width="280" />
    </h1>
  </div>
  <div class="home-right-col inverse">
    <p class="tagline-callout">
      <b>Historians</b> share the <b>histories</b>, <b>primary sources</b>, and <b>novels</b> they love.
    </p>
  </div>
</div>

<div class="home wrapper">
  {% assign grabbed_post = false %}
  {% for post in site.posts %}{% if post.layout == 'list' %}{% if grabbed_post != true %}
    {% assign grabbed_post = true %}
    <h2 class="featured-banner">New List</h2>
    <div class="featured-list-wrapper" style="background-image: url(images/list-headers/{{ post.image_id }});"><div class="featured-list">
      <div class="details-card">
        <h3>
          <a href="{{ post.url }}">
            {{ post.title }}
            <span class="attribution">By {{ post.author | person_full_name }}</span>
          </a>
        </h3>
        <p class="description">
          {{ post.description }}
        </p>
        <p class="description">
          <a class="read-more" href="{{ post.permalink }}">Read more…</a>
        </p>
      </div>
    </div></div>
  {% endif %}{% endif %}{% endfor %}
</div>
<div class="home categories-row wrapper">
  <div class="third-col left">
    <div class="homepage-bucket">
      <h3>When</h3>
      <ul class="categories">
        {% for category in site.data['categories'] %}{% if category.group == 'chrono' %}
          <li><a href="{{ category.id | prepend: 'category/' | prepend: site.baseurl }}">{{ category.display_name }}</a></li>
        {% endif %}{% endfor %}
      </ul>
    </div>
  </div>

  <div class="third-col mid">
    <div class="homepage-bucket">
      <h3>Where</h3>
      <ul class="categories">
        {% for category in site.data['categories'] %}{% if category.group == 'geo' %}
          <li><a href="{{ category.id | prepend: 'category/' | prepend: site.baseurl }}">{{ category.display_name }}</a></li>
        {% endif %}{% endfor %}
      </ul>
    </div>
  </div>

  <div class="third-col right">
    <div class="homepage-bucket">
      <h3>What</h3>
      <ul class="categories">
        {% for category in site.data['categories'] %}{% if category.group == 'theme' %}
          <li><a href="{{ category.id | prepend: 'category/' | prepend: site.baseurl }}">{{ category.display_name }}</a></li>
        {% endif %}{% endfor %}
      </ul>
    </div>
  </div>

  <script type="text/javascript">
    function strechColumns(columnString) {
      var maxHeight = 0;

      $(columnString).height('auto');

      $(columnString).each(function() {
        if ($(this).height() > maxHeight) {
          maxHeight = $(this).height();
        }
      });

      $(columnString).height(maxHeight);
    }

    $(document).on('ready', function() {
      strechColumns('.categories-row .third-col .homepage-bucket');
    });
    $(window).on('resize', function() {
      strechColumns('.categories-row .third-col .homepage-bucket');
    });
  </script>
</div>

<div class="home wrapper">
  <div class="two-thirds-col recent-lists-wrapper">
    <h2 class="featured-banner">Recent Lists</h2>
    <ul class="list-of-lists">
      {% for post in site.posts %}{% if post.layout == 'list' %}{% if forloop.index > 1 %}{% if forloop.index < 6 %}
        {% include categories/list_line_item.html %}
      {% endif %}{% endif %}{% endif %}{% endfor %}
    </ul>

    <a class="bottom-link" href="{{ site.baseurl }}lists">Browse All Lists…</a>
  </div>

  <div class="third-col right">
    <div class="homepage-bucket follow">
      <h3>Keep in Touch</h3>
      <ul class="contact-list">
        <li>
          <a href="http://eepurl.com/bzqp9f" target="_blank">
            <span class="icon">{% include svg/email.html %}</span>
            <span class="label">Join Our Newsletter</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/{{ site.twitter_username }}">
            <span class="icon">{% include svg/twitter.html %}</span>
            <span class="label">Twitter</span>
          </a>
        </li>
        <li>
          <a href="https://www.facebook.com/Backlist-985726241511832">
            <span class="icon">{% include svg/facebook.html %}</span>
            <span class="label">Facebook</span>
          </a>
        <li>
          <a href="https://github.com/{{ site.github_username }}">
            <span class="icon">{% include svg/github.html %}</span>
            <span class="label">GitHub</span>
          </a>
        </li>
        <li>
          <a href="/feed.xml">
            <span class="icon">{% include svg/feed.html %}</span>
            <span class="label">RSS Feed</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="homepage-bucket recommendation">
      <h3>Read a Book</h3>
      <a class="book" id="read-recommendation-title-link" href="#">
        <img id="read-recommendation-cover" src="" />
      </a>
      <p>
        Reviewed by <span id="read-recommendation-author"></span> in<br />
        <a id="read-recommendation-list-link" href="#"></a>
      </p>
    </div>
  </div>
</div>

<script type="text/javascript">
$.getJSON('/data-includes/homepage-featured-book-source.json', function(data) {
  var randomBook = data[Math.floor(Math.random() * data.length)];
  $('#read-recommendation-cover').attr('src','/images/covers/' + randomBook['book_id'][0] + '/' + randomBook['book_id'] + '-small.jpg');
  $('#read-recommendation-title-link').attr('href', randomBook['list_permalink'] + '#' + randomBook['book_id']);

  $('#read-recommendation-list-link').attr('href', randomBook['list_permalink']);
  $('#read-recommendation-list-link').html(randomBook['list_title']);

  $('#read-recommendation-author').html(randomBook['author']);

});
</script>
